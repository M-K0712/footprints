# Footprints ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ¡ãƒ¢

## ğŸ“‹ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå**: Footprints
**ç›®çš„**: è¨ªã‚ŒãŸå ´æ‰€ã‚’åœ°å›³ä¸Šã«ãƒ”ãƒ³ã§è¨˜éŒ²ã—ã€å†™çœŸã‚„æ„Ÿæƒ³ã‚’æ®‹ã›ã‚‹æ—…ã®æ€ã„å‡ºç®¡ç†Webã‚¢ãƒ—ãƒª
**æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯**: Next.js 15 + TypeScript + Leaflet + Supabase + Vercel
**Notionãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: https://www.notion.so/2a2befe1e7568157938efa39faefc19a
**GitHub**: https://github.com/M-K0712/footprints

---

## âœ… ç¾åœ¨ã®é€²æ—ï¼ˆ2025-11-05 æ™‚ç‚¹ï¼‰

### å®Ÿè£…æ¸ˆã¿æ©Ÿèƒ½
- [x] Next.js ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–
- [x] Leaflet åœ°å›³ãƒ©ã‚¤ãƒ–ãƒ©ãƒªçµ±åˆ
- [x] ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªåœ°å›³è¡¨ç¤ºï¼ˆEsri WorldTopoMapï¼‰
- [x] ã‚¯ãƒªãƒƒã‚¯ã§ãƒ”ãƒ³è¿½åŠ æ©Ÿèƒ½
- [x] ãƒ”ãƒ³å‰Šé™¤æ©Ÿèƒ½
- [x] GitHub ãƒªãƒã‚¸ãƒˆãƒªä½œæˆ
- [x] Notion ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆ

### æœªå®Ÿè£…æ©Ÿèƒ½
- [ ] Supabase ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ + èªè¨¼ + ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ï¼‰
- [ ] ãƒ”ãƒ³è©³ç´°æƒ…å ±ï¼ˆåå‰ç·¨é›†ã€ãƒ¡ãƒ¢ã€è¨ªå•æ—¥ã€è©•ä¾¡ã€ã‚¿ã‚°ï¼‰
- [ ] å†™çœŸã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½
- [ ] ãƒ”ãƒ³ä¸€è¦§è¡¨ç¤º
- [ ] æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼æ©Ÿèƒ½
- [ ] åœ°å›³ã‚¹ã‚¿ã‚¤ãƒ«å‹•çš„åˆ‡ã‚Šæ›¿ãˆ
- [ ] èªè¨¼æ©Ÿèƒ½
- [ ] Vercel ãƒ‡ãƒ—ãƒ­ã‚¤

---

## ğŸš€ æ¬¡å›ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®é–‹å§‹æ–¹æ³•

### 1. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•
```bash
cd C:/Users/Kento/Source/footprints
npm run dev
```
â†’ http://localhost:3000 ã§ã‚¢ãƒ—ãƒªãŒé–‹ãã¾ã™

### 2. ç¾åœ¨ã®ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ
```
footprints/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â””â”€â”€ Map.tsx          # åœ°å›³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆãƒ”ãƒ³è¿½åŠ ãƒ»å‰Šé™¤æ©Ÿèƒ½ï¼‰
â”‚   â”œâ”€â”€ page.tsx              # ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ï¼ˆåœ°å›³ã‚’è¡¨ç¤ºï¼‰
â”‚   â”œâ”€â”€ layout.tsx            # å…¨ãƒšãƒ¼ã‚¸å…±é€šãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â””â”€â”€ globals.css           # ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚¿ã‚¤ãƒ«
â”œâ”€â”€ package.json              # ä¾å­˜é–¢ä¿‚
â”œâ”€â”€ next.config.ts            # Next.js è¨­å®š
â””â”€â”€ tsconfig.json             # TypeScript è¨­å®š
```

### 3. ä¸»è¦ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- **Map.tsx**: åœ°å›³ã®è¡¨ç¤ºã€ãƒ”ãƒ³ã®è¿½åŠ ãƒ»å‰Šé™¤ã‚’ç®¡ç†
- **page.tsx**: Map ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ dynamic import ã§èª­ã¿è¾¼ã¿ï¼ˆSSRç„¡åŠ¹åŒ–ï¼‰

---

## ğŸ¯ æ¬¡ã«å®Ÿè£…ã™ã¹ãæ©Ÿèƒ½ï¼ˆå„ªå…ˆé †ä½é †ï¼‰

### Option 1: Supabase ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆãŠã™ã™ã‚ï¼‰
ãƒ‡ãƒ¼ã‚¿ã‚’æ°¸ç¶šåŒ–ã™ã‚‹ãŸã‚ã®ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰æº–å‚™
1. Supabase ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆï¼ˆæœªå®Ÿæ–½ï¼‰
2. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
3. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒè¨­è¨ˆ
4. Next.js ã¨ã®æ¥ç¶šè¨­å®š

**å¿…è¦ãªãƒ†ãƒ¼ãƒ–ãƒ«:**
- users: ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±
- footprints: ãƒ”ãƒ³ï¼ˆå ´æ‰€ï¼‰æƒ…å ±
- photos: å†™çœŸ
- tags: ã‚¿ã‚°

### Option 2: ãƒ”ãƒ³ã®è©³ç´°æƒ…å ±è¿½åŠ 
ç¾åœ¨ã¯ç·¯åº¦çµŒåº¦ã¨åå‰ã ã‘ã€‚ä»¥ä¸‹ã‚’è¿½åŠ :
- åå‰ã®ç·¨é›†æ©Ÿèƒ½
- ãƒ¡ãƒ¢ãƒ»æ„Ÿæƒ³ï¼ˆé•·æ–‡ãƒ†ã‚­ã‚¹ãƒˆï¼‰
- è¨ªå•æ—¥
- 5æ®µéšè©•ä¾¡
- ã‚¿ã‚°

### Option 3: åœ°å›³ã‚¹ã‚¿ã‚¤ãƒ«åˆ‡ã‚Šæ›¿ãˆæ©Ÿèƒ½
ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã§åœ°å›³ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’é¸æŠã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹
- OpenStreetMap
- Esri WorldTopoMapï¼ˆç¾åœ¨ï¼‰
- Satellite
- Watercolor
ãªã©

---

## ğŸ“š å­¦ç¿’æ¸ˆã¿ã®é‡è¦ãªæ¦‚å¿µ

### React
- **useState**: `const [state, setState] = useState(initialValue)`
  - çŠ¶æ…‹ãŒå¤‰ã‚ã‚‹ã¨è‡ªå‹•ã§å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
  - ã‚¤ãƒŸãƒ¥ãƒ¼ã‚¿ãƒ–ãƒ«ï¼ˆä¸å¤‰ï¼‰ãŒåŸå‰‡
  - é…åˆ—æ“ä½œã¯ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰æ§‹æ–‡: `[...array, newItem]`
  - å‰Šé™¤ã¯ filter: `array.filter(item => item.id !== deleteId)`

- **é…åˆ—ã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°**: `map()` ã¨ `key` å±æ€§
  ```tsx
  {items.map(item => <Component key={item.id} {...item} />)}
  ```

- **ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ–ãƒªãƒ³ã‚°**: `e.stopPropagation()` ã§ä¼æ’­ã‚’æ­¢ã‚ã‚‹

### Next.js
- **App Router**: ãƒ•ã‚¡ã‚¤ãƒ« = ãƒ«ãƒ¼ãƒˆ
  - `app/page.tsx` â†’ `/`
  - `app/about/page.tsx` â†’ `/about`

- **SSR vs CSR**:
  - Server Component: ã‚µãƒ¼ãƒãƒ¼ã§å®Ÿè¡Œï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰
  - Client Component: ãƒ–ãƒ©ã‚¦ã‚¶ã§å®Ÿè¡Œï¼ˆ`'use client'` å¿…é ˆï¼‰

- **dynamic import**: ãƒ–ãƒ©ã‚¦ã‚¶å°‚ç”¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®èª­ã¿è¾¼ã¿
  ```tsx
  const Map = dynamic(() => import('./components/Map'), { ssr: false });
  ```

### Leaflet
- **MapContainer**: åœ°å›³ã®ã‚³ãƒ³ãƒ†ãƒŠ
- **TileLayer**: åœ°å›³ã‚¿ã‚¤ãƒ«ï¼ˆè¦‹ãŸç›®ï¼‰
- **Marker**: ãƒ”ãƒ³
- **Popup**: ãƒ”ãƒ³ã®è©³ç´°
- **useMapEvents**: ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ï¼ˆMapContainer ã®ä¸­ã§ã—ã‹ä½¿ãˆãªã„ï¼‰
  ```tsx
  useMapEvents({
    click: (e) => { /* å‡¦ç† */ }
  });
  ```

---

## ğŸ”‘ é‡è¦ãªè¨­å®šãƒ»ã‚³ãƒãƒ³ãƒ‰

### é–‹ç™ºã‚µãƒ¼ãƒãƒ¼
```bash
npm run dev          # é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
npm run build        # æœ¬ç•ªãƒ“ãƒ«ãƒ‰
npm start            # æœ¬ç•ªã‚µãƒ¼ãƒãƒ¼èµ·å‹•
```

### Git
```bash
git status           # å¤‰æ›´ç¢ºèª
git add .            # ã™ã¹ã¦ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°
git commit -m "..."  # ã‚³ãƒŸãƒƒãƒˆ
git push origin main # ãƒ—ãƒƒã‚·ãƒ¥
```

### ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
```json
{
  "leaflet": "^1.9.4",
  "react-leaflet": "^4.2.1",
  "@types/leaflet": "^1.9.8"
}
```

---

## âš ï¸ ã‚ˆãã‚ã‚‹ã‚¨ãƒ©ãƒ¼ã¨å¯¾å‡¦æ³•

### 1. Leafletã§ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹
â†’ `app/page.tsx` ã§ dynamic import ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ã‹ç¢ºèª
â†’ `ssr: false` ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª

### 2. åœ°å›³ãŒè¡¨ç¤ºã•ã‚Œãªã„
â†’ `app/globals.css` ã« `@import 'leaflet/dist/leaflet.css';` ãŒã‚ã‚‹ã‹ç¢ºèª
â†’ ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ã‚¨ãƒ©ãƒ¼ã‚’ç¢ºèª

### 3. ãƒ”ãƒ³ã®ã‚¢ã‚¤ã‚³ãƒ³ãŒè¡¨ç¤ºã•ã‚Œãªã„
â†’ `Map.tsx` ã®ã‚¢ã‚¤ã‚³ãƒ³ä¿®æ­£ã‚³ãƒ¼ãƒ‰ãŒå®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª

### 4. å‰Šé™¤ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨æ–°ã—ã„ãƒ”ãƒ³ãŒè¿½åŠ ã•ã‚Œã‚‹
â†’ `onClick` ã« `e.stopPropagation()` ãŒã‚ã‚‹ã‹ç¢ºèª

---

## ğŸ“ æ¬¡å›ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§æ•™ãˆã¦ã»ã—ã„ã“ã¨

ä»¥ä¸‹ã®å†…å®¹ã‚’å¿…è¦ã«å¿œã˜ã¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆã—ã¦ãã ã•ã„ï¼š

- Supabase ã®ä½¿ã„æ–¹ï¼ˆãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã€èªè¨¼ã€ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ï¼‰
- Next.js ã® API Routes
- ãƒ•ã‚©ãƒ¼ãƒ ã®ä½œæˆï¼ˆReact Hook Formï¼‰
- ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
- èªè¨¼ãƒ•ãƒ­ãƒ¼ï¼ˆãƒ­ã‚°ã‚¤ãƒ³ãƒ»ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—ï¼‰
- Vercel ã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤
- ç’°å¢ƒå¤‰æ•°ã®ç®¡ç†
- TypeScript ã®å‹å®šç¾©
- CSS ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ï¼ˆTailwind ã®è©³ç´°ï¼‰

---

## ğŸ”— å‚è€ƒãƒªãƒ³ã‚¯

- **Next.js ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: https://nextjs.org/docs
- **React ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: https://react.dev
- **Leaflet ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: https://leafletjs.com
- **Supabase ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: https://supabase.com/docs
- **Tailwind CSS**: https://tailwindcss.com/docs
- **Leaflet ã‚¿ã‚¤ãƒ«ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼**: https://leaflet-extras.github.io/leaflet-providers/preview/

---

## ğŸ’¡ å‚™è€ƒ

- é–‹ç™ºç’°å¢ƒã¯ Windows (C:\Users\Kento\Source\footprints)
- Node.js v24.11.0
- npm 11.6.1
- Git ã¯è¨­å®šæ¸ˆã¿
- GitHub ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ: M-K0712

---

æœ€çµ‚æ›´æ–°: 2025-11-05
